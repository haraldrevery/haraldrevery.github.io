# Harald Revery Website - Developer Guide

> Official website for Harald Revery - Electronic music producer and DJ

---

## ğŸ“‹ Table of Contents

- [Overview](#overview)
- [Prerequisites](#prerequisites)
- [Project Structure](#project-structure)
- [Getting Started](#getting-started)
- [Development Workflow](#development-workflow)
- [Creating Content](#creating-content)
- [Building & Deployment](#building--deployment)
- [Customization Guide](#customization-guide)
- [Troubleshooting](#troubleshooting)

---

## ğŸ¯ Overview

This is a static website built with:
- **Eleventy** (11ty) - Static site generator for the blog/notebook
- **Tailwind CSS v4** - Utility-first CSS framework
- **Alpine.js** - Lightweight JavaScript framework
- **Nunjucks** - Templating engine

### Key Features
- ğŸ“± Fully responsive design
- ğŸŒ“ Dark/light mode support
- ğŸ“ Dynamic blog system with tagging
- ğŸµ Custom audio player
- ğŸ–¼ï¸ Lightbox image gallery
- ğŸ“„ Pagination for blog posts
- ğŸ” SEO optimized

---

## ğŸ› ï¸ Prerequisites

Before you start, make sure you have:

### Required Software
1. **Node.js** (v14 or higher)
   - Download from [nodejs.org](https://nodejs.org/)
   - Verify installation: `node --version`

2. **Tailwind CSS Standalone CLI** (`tw.exe`)
   - Already included in project
   - Located in root directory

### Required Dependencies
Install these via npm:
```bash
npm install
```

**Core Dependencies:**
- `@11ty/eleventy` - Static site generator
- `markdown-it` - Markdown parser
- `markdown-it-attrs` - Add attributes to markdown
- `gray-matter` - Parse frontmatter from files

---

## ğŸ“ Project Structure

```
harald-revery-website/
â”‚
â”œâ”€â”€ ğŸ“„ index.html                  # Homepage
â”œâ”€â”€ ğŸ“„ about.html                  # About page
â”œâ”€â”€ ğŸ“„ music.html                  # Music page with audio player
â”œâ”€â”€ ğŸ“„ contact.html                # Contact page
â”œâ”€â”€ ğŸ“„ legal.html                  # Legal/privacy page
â”œâ”€â”€ ğŸ“„ notebook.html               # Blog index (generated by Eleventy)
â”‚
â”œâ”€â”€ ğŸ“ eleventy_settings/          # Eleventy layouts & templates
â”‚   â”œâ”€â”€ base.njk                   # Main layout template
â”‚   â”œâ”€â”€ blog.njk                   # Blog index template
â”‚   â””â”€â”€ blog-tag.njk               # Tag pages template
â”‚
â”œâ”€â”€ ğŸ“ markdown_text/              # ğŸ“ YOUR BLOG POSTS GO HERE (Markdown)
â”‚   â”œâ”€â”€ example-post.md
â”‚   â””â”€â”€ another-post.md
â”‚
â”œâ”€â”€ ğŸ“ html_extras/                # Alternative: HTML blog posts
â”‚   â””â”€â”€ custom-post.html
â”‚
â”œâ”€â”€ ğŸ“ notebook_templates/         # Post templates (optional)
â”‚
â”œâ”€â”€ ğŸ“ notebook_pages/             # Generated blog pages (auto-created)
â”‚
â”œâ”€â”€ ğŸ“ javascript/                 # JavaScript files
â”‚   â”œâ”€â”€ alpine.min.js              # Alpine.js framework
â”‚   â”œâ”€â”€ glightbox.min.js           # Lightbox library
â”‚   â”œâ”€â”€ audioplayer_min.js         # Music player logic
â”‚   â”œâ”€â”€ navbar_scroll_min.js       # Navbar animation
â”‚   â””â”€â”€ glightbox_settings_min.js  # Lightbox config
â”‚
â”œâ”€â”€ ğŸ“ fonts/                      # Custom fonts
â”‚   â”œâ”€â”€ HaraldReveryTextFont.woff2
â”‚   â””â”€â”€ HaraldReveryMonoFont.woff2
â”‚
â”œâ”€â”€ ğŸ“ photos/                     # Images & media
â”‚
â”œâ”€â”€ ğŸ“ music/mp3/                  # Audio files for player
â”‚
â”œâ”€â”€ ğŸ¨ input.css                   # Main Tailwind CSS source
â”œâ”€â”€ ğŸ¨ input_prose.css             # Blog post styling source
â”œâ”€â”€ ğŸ¨ theme.css                   # Custom CSS variables
â”œâ”€â”€ ğŸ“¦ main.css                    # Compiled main CSS (generated)
â”œâ”€â”€ ğŸ“¦ prose.css                   # Compiled prose CSS (generated)
â”‚
â”œâ”€â”€ âš™ï¸ eleventy.config.js          # Eleventy configuration
â”œâ”€â”€ ğŸ”§ dev.bat                     # Development build script
â”œâ”€â”€ ğŸ“¦ package.json                # Node dependencies
â”œâ”€â”€ ğŸš« .eleventyignore             # Files to ignore
â””â”€â”€ ğŸ“– README.md                   # This file
```

---

## ğŸš€ Getting Started

### 1. Install Dependencies
```bash
npm install
```

### 2. Start Development
Run the automated build suite (Windows):
```bash
dev.bat
```

This script simultaneously:
- Builds minified main CSS
- Builds full main CSS (for debugging)
- Builds minified prose CSS
- Builds full prose CSS (for debugging)
- Watches for changes and rebuilds automatically

**For Manual Building:**
```bash
# Main CSS (minified)
.\tw.exe -i input.css -o main.css --minify

# Prose CSS (minified)
.\tw.exe -i input_prose.css -o prose.css --minify
```

### 3. Build the Static Site
```bash
npx @11ty/eleventy
```

### 4. Serve Locally
```bash
npx @11ty/eleventy --serve
```
Visit: `http://localhost:8080`

---

## ğŸ’» Development Workflow

### Daily Development
1. Run `dev.bat` in one terminal (handles CSS)
2. Run `npx @11ty/eleventy --serve` in another (handles site generation)
3. Edit files - both watchers will auto-rebuild
4. Refresh browser to see changes

### File Watching
- **Tailwind**: `dev.bat` watches all `.html`, `.md` files
- **Eleventy**: `--serve` watches markdown, templates, and config files

---

## âœï¸ Creating Content

### Option 1: Markdown Posts (Recommended)

1. Create a new file in `/markdown_text/` folder
2. Name it: `my-post-title.md`
3. Add frontmatter at the top:

```markdown
---
title: "My Awesome Post Title"
date: 2026-02-07
tags: 
  - Music Production
  - Tutorial
image: /photos/post-image.jpg
description: "A brief summary of the post for previews"
permalink: /notebook_pages/my-post-title.html
layout: post.njk
---

# Your Content Here

Write your post content using **Markdown**.

## Subheading

- Bullet points work
- Another point

![Alt text](/photos/image.jpg)

Code blocks:
```javascript
console.log("Hello World");
```
```

### Option 2: HTML Posts

1. Create file in `/html_extras/` folder
2. Add frontmatter + HTML:

```html
---
title: "Custom HTML Post"
date: 2026-02-07
tags: [Design, Web Dev]
image: /photos/custom.jpg
description: "Post made with pure HTML"
permalink: /notebook_pages/custom-post.html
---

<div class="prose">
  <h1>Your HTML Content</h1>
  <p>Full control over markup...</p>
</div>
```

### Frontmatter Fields Explained

| Field | Required | Description | Example |
|-------|----------|-------------|---------|
| `title` | âœ… Yes | Post title | `"My First Post"` |
| `date` | âœ… Yes | Publish date | `2026-02-07` |
| `tags` | âŒ No | Category tags (array) | `[Music, Production]` |
| `image` | âŒ No | Featured image path | `/photos/cover.jpg` |
| `description` | âŒ No | Preview text | `"Learn how to..."` |
| `permalink` | âœ… Yes | URL path | `/notebook_pages/slug.html` |
| `layout` | âœ… Yes | Template to use | `post.njk` |

### Publishing a Post

1. Write your content
2. Save the file
3. Run: `npx @11ty/eleventy`
4. Check: `notebook.html` for your post
5. Deploy the entire site folder

---

## ğŸ—ï¸ Building & Deployment

### Production Build

```bash
# 1. Build optimized CSS
.\tw.exe -i input.css -o main.css --minify
.\tw.exe -i input_prose.css -o prose.css --minify

# 2. Build static site
npx @11ty/eleventy

# 3. Deploy these files to your server:
# - All .html files
# - /javascript/ folder
# - /fonts/ folder
# - /photos/ folder
# - /music/ folder
# - /notebook_pages/ folder
# - main.css
# - prose.css
```

### What Gets Generated

When you run Eleventy, it creates:
- `notebook.html` - Main blog index (page 1)
- `notebook_pages/notebook-page-2.html` - Pagination pages
- `notebook_pages/notebook_tag-music.html` - Tag filter pages
- Individual post pages at their `permalink` locations

### Deployment Checklist

- [ ] All CSS files compiled and minified
- [ ] Eleventy build completed without errors
- [ ] Test all navigation links locally
- [ ] Verify images load correctly
- [ ] Check responsive design on mobile
- [ ] Test dark mode toggle
- [ ] Validate all blog post links work
- [ ] Upload to web hosting

---

## ğŸ¨ Customization Guide

### Changing Colors

Edit `/theme.css` to modify color scheme:

```css
:root {
  --color-black: #0a0a0a;
  --color-white: #f9f9f9;
  --color-neutral-600: #525252;
  /* Add your custom colors */
}
```

### Changing Fonts

1. Add font files to `/fonts/` folder
2. Update `/theme.css`:

```css
@font-face {
  font-family: 'YourFont';
  src: url('/fonts/yourfont.woff2') format('woff2');
  font-weight: 400;
  font-display: swap;
}

:root {
  --font-brand: 'YourFont', sans-serif;
}
```

### Modifying Blog Layout

Edit these files:
- `eleventy_settings/blog.njk` - Main blog page
- `eleventy_settings/blog-tag.njk` - Tag pages
- `eleventy_settings/post.njk` - Individual post layout (if exists)

### Changing Posts Per Page

Edit `eleventy.config.js`:

```javascript
pagination: {
  data: collections.notebook_posts,
  size: 40, // â† Change this number
  alias: paginatedPosts
}
```

### Adding New Pages

1. Create `newpage.html` in root
2. Copy header/footer from existing pages
3. Add link in navigation (search for `<nav>` in index.html)
4. Build with Tailwind: Content will be automatically scanned

---

## ğŸ› Troubleshooting

### CSS Not Updating
**Problem**: Changes to CSS not showing up

**Solution**:
```bash
# Kill all tw.exe processes
taskkill /f /im tw.exe

# Restart dev.bat
dev.bat
```

### Blog Posts Not Appearing
**Problem**: New markdown file not showing in blog

**Solution**:
1. Check frontmatter format (YAML must have `---` before and after)
2. Verify date format: `YYYY-MM-DD`
3. Ensure file is in `/markdown_text/` folder
4. Rebuild: `npx @11ty/eleventy`
5. Check console for errors

### Eleventy Build Errors
**Common Issues**:

```bash
# Error: Cannot find module
npm install

# Error: Template not found
# Check that layout file exists in eleventy_settings/

# Error: Invalid frontmatter
# Ensure YAML syntax is correct (no tabs, proper spacing)
```

### Images Not Loading
**Problem**: Images show broken link icon

**Solution**:
- Use absolute paths: `/photos/image.jpg` (not `photos/image.jpg`)
- Verify image exists in `/photos/` folder
- Check filename matches exactly (case-sensitive)

### Navigation Broken After Build
**Problem**: Links to `/notebook.html` return 404

**Solution**:
- Eleventy should create `notebook.html` in root
- Check `eleventy.config.js` permalink settings
- Verify build completed without errors

---

## ğŸ“š Additional Resources

### Documentation Links
- [Eleventy Docs](https://www.11ty.dev/docs/)
- [Tailwind CSS v4 Docs](https://tailwindcss.com/docs)
- [Markdown Guide](https://www.markdownguide.org/)
- [Nunjucks Templating](https://mozilla.github.io/nunjucks/)

### Useful Commands

```bash
# Install dependencies
npm install

# Build site
npx @11ty/eleventy

# Serve locally with hot reload
npx @11ty/eleventy --serve

# Build and watch CSS (minified)
.\tw.exe -i input.css -o main.css --watch --minify

# Clear Eleventy cache (if things look weird)
npx @11ty/eleventy --serve

# Check Eleventy version
npx @11ty/eleventy --version
```

---

## ğŸ†˜ Support

### Common Questions

**Q: How do I add a new tag?**  
A: Just add it to a post's frontmatter. Eleventy auto-generates tag pages.

**Q: Can I use custom HTML in markdown posts?**  
A: Yes! Markdown files support inline HTML.

**Q: How do I change the blog title "Notebook"?**  
A: Edit `eleventy_settings/blog.njk` line 20.

**Q: Where do I put images for posts?**  
A: `/photos/` folder, then reference as `/photos/filename.jpg`

**Q: How do I delete a post?**  
A: Remove the `.md` file, then rebuild with Eleventy.

---

## ğŸ“ Notes

- **CSS Variables**: All design tokens are in `theme.css` - modify there for global changes
- **Typography**: Prose styling is extensive in `input_prose.css` for beautiful blog posts
- **Performance**: Uses standalone Tailwind CLI (no Node.js build step for CSS)
- **SEO**: Schema markup included in HTML for better search engine visibility
- **Accessibility**: ARIA labels and semantic HTML throughout

---

## ğŸ‰ You're Ready!

You now have everything you need to:
1. âœ… Edit existing pages
2. âœ… Create new blog posts
3. âœ… Customize the design
4. âœ… Build and deploy the site

**Happy coding! ğŸš€**

---

*Last updated: February 2026*
*Website: [haraldrevery.com](https://haraldrevery.com)*
